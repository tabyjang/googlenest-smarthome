---
phase: 03-performance-optimization
type: execute
---

<objective>
이미지 최적화 및 Lighthouse 성능 90+ 달성

목적: 이미지 lazy loading, WebP 변환, Lighthouse 성능 검증 및 개선
결과물: 최적화된 이미지, Lighthouse 90+ 스코어, Core Web Vitals 개선
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-phase.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/03-performance-optimization/03-02-SUMMARY.md

**Plan 03-02 완료:**
- 번들 크기 70% 이상 감소
- Vite 빌드 최적화

**최종 목표:**
- Lighthouse 성능 90+
- 이미지 최적화
- Core Web Vitals 개선
</context>

<tasks>

<task type="auto">
  <name>Task 1: 이미지 lazy loading 적용</name>
  <files>components/products/ProductCard.tsx, 기타 이미지 사용 컴포넌트</files>
  <action>이미지에 lazy loading 속성 추가하여 초기 로딩 속도 개선:

**1. img 태그에 loading="lazy" 추가:**

```tsx
<img src={imageUrl} alt={altText} loading="lazy" />
```

**2. 주요 적용 대상:**
- ProductCard.tsx의 제품 이미지
- ProductGrid 내 모든 이미지
- HomePage 하단 섹션 이미지 (있는 경우)

**주의사항:**
- Hero 섹션의 critical 이미지는 lazy loading 제외
- Above-the-fold 콘텐츠는 즉시 로드
</action>
  <verify>스크롤 시 이미지가 순차적으로 로드됨</verify>
  <done>이미지 lazy loading 적용 완료</done>
</task>

<task type="auto">
  <name>Task 2: Lighthouse 성능 측정</name>
  <files>없음 (측정만)</files>
  <action>Lighthouse로 성능 측정 및 개선 사항 확인:

**1. 프로덕션 빌드:**
```bash
npm run build
npm run preview
```

**2. Lighthouse 실행:**
- Chrome DevTools > Lighthouse 탭
- Performance, Accessibility, Best Practices, SEO 측정
- Mobile 기준으로 측정

**3. 목표 스코어:**
- Performance: 90+
- Accessibility: 90+
- Best Practices: 90+
- SEO: 90+

**4. 주요 메트릭:**
- LCP (Largest Contentful Paint): < 2.5s
- FID (First Input Delay): < 100ms
- CLS (Cumulative Layout Shift): < 0.1

**주의사항:**
- Incognito 모드에서 측정
- 네트워크 throttling: Fast 3G
- CPU throttling: 4x slowdown
</action>
  <verify>Lighthouse 성능 스코어 90+</verify>
  <done>Lighthouse 측정 완료, 스코어 기록</done>
</task>

<task type="auto">
  <name>Task 3: 성능 개선 사항 적용</name>
  <files>index.html, 기타 필요 파일</files>
  <action>Lighthouse 결과를 바탕으로 추가 개선:

**1. index.html 최적화:**

- preconnect 추가 (외부 리소스):
```html
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="dns-prefetch" href="https://fonts.googleapis.com">
```

- meta 태그 확인:
```html
<meta name="description" content="Google Nest 스마트홈 프리미엄 쇼케이스">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
```

**2. 필요 시 추가 최적화:**
- font-display: swap 적용 (Tailwind config)
- 큰 이미지 사이즈 조정
- CLS 개선 (이미지에 width/height 명시)

**주의사항:**
- 과도한 최적화로 코드 복잡도 증가 방지
- 시각적 품질 유지
</action>
  <verify>개선 후 Lighthouse 재측정, 스코어 향상 확인</verify>
  <done>성능 개선 완료, 최종 Lighthouse 90+ 달성</done>
</task>

</tasks>

<verification>
- [ ] npm test 통과
- [ ] npm run build 성공
- [ ] 이미지 lazy loading 작동
- [ ] Lighthouse Performance 90+
- [ ] Lighthouse Accessibility 90+
- [ ] LCP < 2.5s, CLS < 0.1
</verification>

<success_criteria>
- 이미지 lazy loading 적용
- Lighthouse 성능 측정 및 90+ 달성
- Core Web Vitals 목표 달성
- Phase 3 완료
</success_criteria>

<output>
완료 후 `.planning/phases/03-performance-optimization/03-03-SUMMARY.md` 생성:

# Phase 3 Plan 3: 이미지 최적화 및 Lighthouse 요약

**Lighthouse 성능 90+ 달성**

## 달성 사항

- 이미지 lazy loading 적용
- Lighthouse 성능 측정 및 최적화
- Core Web Vitals 목표 달성
- Phase 3 Performance Optimization 완료

## Lighthouse 스코어

**최종 스코어:**
- Performance: [측정값]
- Accessibility: [측정값]
- Best Practices: [측정값]
- SEO: [측정값]

**Core Web Vitals:**
- LCP: [측정값]
- FID: [측정값]
- CLS: [측정값]

## Phase 3 종합 성과

**번들 크기:**
- 최적화 전: ~1.4M
- 최적화 후: ~200-250K
- 감소율: 82%

**주요 개선:**
1. Three.js 제거 (Plan 03-01)
2. 번들 최적화 (Plan 03-02)
3. 이미지 최적화 (Plan 03-03)

## 다음 Phase

Phase 4: Accessibility
- WCAG 2.1 AA 준수
- 키보드 네비게이션
- 스크린 리더 지원
</output>
